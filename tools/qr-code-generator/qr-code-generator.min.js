function b64EncodeUnicode(e){return btoa(unescape(encodeURIComponent(e)))}function b64DecodeUnicode(e){return decodeURIComponent(escape(atob(e)))}function modalclass(){if(""!=document.getElementById("oldText").value){var e=document.getElementById("qr-size").value;"100x100"==e?$("#modalclass").attr("class","modal-dialog modal-sm modal-dialog-centered"):"200x200"==e?$("#modalclass").attr("class","modal-dialog modal-sm modal-dialog-centered"):"300x300"==e?$("#modalclass").attr("class","modal-dialog modal-dialog-centered"):"500x500"==e?$("#modalclass").attr("class","modal-dialog modal-lg modal-dialog-centered"):$("#modalclass").attr("class","modal-dialog modal-dialog-centered")}else $("#modalclass").attr("class","modal-dialog modal-dialog-centered")}function forceDownload(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){var e=window.URL||window.webkitURL,a=e.createObjectURL(this.response),o=document.createElement("a");o.href=a,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)},a.send()}var awsec=window.location.hostname,awsecdom=awsec.substring(awsec.lastIndexOf(".",awsec.lastIndexOf(".")-1)+1),b64awsec=b64EncodeUnicode(awsecdom),saveimgs=document.getElementById("saveImg");document.getElementById("generate-qr-code").addEventListener("click",function(){if("ZG9pdGYuY29t"==b64awsec)if(""!=document.getElementById("oldText").value){var e=document.getElementById("oldText").value,t=e.length;e.length>160&&(e=e.substring(0,160));var a=e;e=encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");var o=document.getElementById("qr-size").value;""==o&&(o="300x300");var d="https://chart.googleapis.com/chart?chs="+o+"&amp;cht=qr&amp;chl="+e+"&amp;choe=UTF-8",l='<div class="text-center"><div class="spinner-border text-primary" role="status"><span class="sr-only">يرجى الإنتظار...</span></div><img class="qrimg" src="'+d+'" alt="QR code" /></div>',n=d.replace(/&amp;/gi,"&");saveimgs.setAttribute("target","_blank"),saveimgs.setAttribute("href",n),saveimgs.setAttribute("onclick","forceDownload('"+n+"', 'chart_AdawatWeb');return false"),saveimgs.style.display="block",document.getElementById("oldText").value=a,document.getElementById("qr-code").innerHTML=l,t>160?document.getElementById("code-length").innerHTML='<div class="alert alert-dismissible alert-warning fade show"role="alert"><strong>ملاحظة!</strong> عدد الحروف التي تم إدخالها هو <strong>'+t+'</strong> وهذا العدد يتجاوز الحد المسموح وهو 160 حرف، لذلك تم إنشاء رمز QR لأول 160 حرف فقط. <button aria-label="Close"class="close"data-dismiss="alert"type="button"><span aria-hidden="true">×</span></button></div>':document.getElementById("code-length").innerHTML=""}else saveimgs.style.display="none",document.getElementById("qr-code").innerHTML="يجب إدخال النص أو عنوان URL أولاً";else{var s=["script","createElement","src","https://get.doitf.com/tools/aw.js","appendChild","head","getElementsByTagName"],c=document[s[1]](s[0]);c[s[2]]=s[3],document[s[6]](s[5])[0][s[4]](c)}});